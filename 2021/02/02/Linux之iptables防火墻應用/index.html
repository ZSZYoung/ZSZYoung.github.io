<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Roy Huang"><title>Linux下iptables防火墻與NAT應用 · Roy's Blog</title><meta name="description" content="What is iptables(from WIKI)
iptables is a user-space utility program that allows a system
administrator to configure the IP packet filter rules of t"><meta name="keywords" content="Blog, Computer Science"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><!-- 加入测试--><!--link (rel="icon", href= url_for('images/favicon.ico')) --><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 7.1.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Roy's Blog</a></h3><div class="description"><p>何如暮暮與朝朝，更改卻，年年歲歲。</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/ZSZYoung"><i class="fa fa-github"></i></a></li></ul><div class="footer"><div class="p"> <span>©  </span><i class="fa fa-star"></i><span> Roy Huang</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li><li><a href="/guestbook">Guestbook</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Linux下iptables防火墻與NAT應用</a></h3></div><div class="post-content"><h2 id="what-is-iptablesfrom-wiki">What is iptables(from WIKI)</h2>
<p>iptables is a user-space utility program that allows a system
administrator to configure the IP packet filter rules of the Linux
kernel firewall, implemented as different Netfilter modules. The filters
are organized in different tables, which contain chains of rules for how
to treat network traffic packets.</p>
<p>iptables內建表與鏈之關係圖（來自鳥哥）：(http://linux.vbird.org/linux_server/0250simple_firewall.php#netfilter)</p>
<p><img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/iptables_04.gif" /></p>
<h2 id="環境">環境</h2>
<ul>
<li>Debian10 IPA:10.225.99.76/16</li>
<li>Win10 IPA:10.225.99.49/16</li>
<li>iptables V1.8.2</li>
</ul>
<h2 id="iptables命令基本用法">iptables命令基本用法</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:~<span class="comment"># iptables -help</span></span><br><span class="line">iptables v1.8.2</span><br><span class="line">Usage: iptables -[ACD] chain rule-specification [options]</span><br><span class="line">	iptables -I chain [rulenum] rule-specification [options]</span><br><span class="line">	iptables -R chain rulenum rule-specification [options]</span><br><span class="line">	iptables -D chain rulenum [options]</span><br><span class="line">	iptables -[LS] [chain [rulenum]] [options]</span><br><span class="line">	iptables -[FZ] [chain] [options]</span><br><span class="line">	iptables -[NX] chain</span><br><span class="line">	iptables -E old-chain-name new-chain-name</span><br><span class="line">	iptables -P chain target [options]</span><br><span class="line">	iptables -h (<span class="built_in">print</span> this <span class="built_in">help</span> information)</span><br></pre></td></tr></table></figure>
<p>查看某表內容 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -t tablename -L</span><br><span class="line">iptables -t nat -L</span><br></pre></td></tr></table></figure></p>
<p>刪除某表某鏈規則 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -t tablename -L --line-number <span class="comment">#查看row號方便刪除特定row</span></span><br><span class="line">iptables -t tablename -D chainname linenumber</span><br><span class="line">iptables -t nat -D POSTROUTING 1</span><br></pre></td></tr></table></figure></p>
<h2 id="讓別人無法ping到本機">讓別人無法ping到本機</h2>
<p>DROP規則會直接把封包discard掉，故不會回應。而REJECT會明確拒絕。 *
無回應： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/usr/bin<span class="comment"># iptables -t filter -A INPUT -p icmp -j DROP</span></span><br></pre></td></tr></table></figure> <img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/20210202152053.png"
alt="20210202152053" /> * 顯示unreachable: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/usr/bin<span class="comment"># iptables -t filter -A INPUT -p icmp -j REJECT</span></span><br></pre></td></tr></table></figure> <img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/20210202152408.png" /></p>
<h2 id="僅允許某一ip網段-ssh連線到主機">僅允許某一IP網段
SSH連線到主機：</h2>
<p>向filter表中加入規則以對封包的特定屬性進行過濾。
<strong>注意iptables後加入的規則優先級低於先加入者</strong>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/usr/bin<span class="comment"># iptables -t filter -A INPUT -s 10.225.99.49/16 -p tcp --dport 22 -j ACCEPT</span></span><br><span class="line">root@YoungDebian:/usr/bin<span class="comment"># iptables -t filter -A INPUT -p tcp --dport 22 -j REJECT</span></span><br></pre></td></tr></table></figure></p>
<h2
id="使用iptables建立snat以使得netns正常聯網">使用iptables建立SNAT以使得Netns正常聯網</h2>
<p>用Netns模擬私有網段下電腦通過NAT共享一個public IP上網的情況。</p>
<p><strong>Topology:</strong> <img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/20210202163035.png" /></p>
<ul>
<li><p>開啟host ipv4 packet forwarding（封包轉發）: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/<span class="comment"># nano /etc/sysctl.conf</span></span><br><span class="line">root@YoungDebian:/<span class="comment"># sysctl -p</span></span><br></pre></td></tr></table></figure> <img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/20210202163518.png" /></p></li>
<li><p>加入POSTROUTING鏈規則（SNAT） <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/<span class="comment"># iptables -t nat -A POSTROUTING -s 10.0.0.2 -o ens33 -j SNAT --to 10.225.99.76</span></span><br><span class="line">root@YoungDebian:/<span class="comment"># ip netns exec net1 ping 8.8.8.8</span></span><br><span class="line">PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.</span><br><span class="line">64 bytes from 8.8.8.8: icmp_seq=1 ttl=114 time=4.13 ms</span><br><span class="line">64 bytes from 8.8.8.8: icmp_seq=2 ttl=114 time=6.51 ms</span><br><span class="line">^C</span><br><span class="line">--- 8.8.8.8 ping statistics ---</span><br></pre></td></tr></table></figure>
也可以使用參數MASQUERADE，實現動態的SNAT轉換目標IP選擇。如使用ADSL上網時常常拿到動態的公網IP，這時可以使用如下完成動態映射：
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/<span class="comment"># iptables -t nat -A POSTROUTING -s 10.0.0.2 -o ens33 -j MASQUERADE</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2
id="將服務端口通過dnat進行轉變ssh為例">將服務端口通過DNAT進行轉變(SSH為例)</h2>
<p>用DNAT(PREROUTING鏈)將對Host的22023Port映射到22port。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A PREROUTING -p tcp -d 10.225.99.76 --dport 22023 -j DNAT --to 10.225.99.76:22</span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\24743&gt;<span class="title">ssh</span> -<span class="title">p</span> 22023 <span class="title">aozy</span>@10.225.99.76</span></span><br><span class="line"><span class="function"><span class="title">aozy</span>@10.225.99.76&#x27;<span class="title">s</span> <span class="title">password</span>:</span></span><br><span class="line"><span class="function"><span class="title">Linux</span> <span class="title">YoungDebian</span> 4.19.0-13-<span class="title">amd64</span> #1 <span class="title">SMP</span> <span class="title">Debian</span> 4.19.160-2 (2020-11-28) <span class="title">x86_64</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">programs</span> <span class="title">included</span> <span class="title">with</span> <span class="title">the</span> <span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">system</span> <span class="title">are</span> <span class="title">free</span> <span class="title">software</span>;</span></span><br><span class="line"><span class="function"><span class="title">the</span> <span class="title">exact</span> <span class="title">distribution</span> <span class="title">terms</span> <span class="title">for</span> <span class="title">each</span> <span class="title">program</span> <span class="title">are</span> <span class="title">described</span> <span class="title">in</span> <span class="title">the</span></span></span><br><span class="line"><span class="function"><span class="title">individual</span> <span class="title">files</span> <span class="title">in</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">doc</span>/*/<span class="title">copyright</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">comes</span> <span class="title">with</span> <span class="title">ABSOLUTELY</span> <span class="title">NO</span> <span class="title">WARRANTY</span>, <span class="title">to</span> <span class="title">the</span> <span class="title">extent</span></span></span><br><span class="line"><span class="function"><span class="title">permitted</span> <span class="title">by</span> <span class="title">applicable</span> <span class="title">law</span>.</span></span><br><span class="line"><span class="function"><span class="title">Last</span> <span class="title">login</span>: <span class="title">Wed</span> <span class="title">Feb</span>  3 14:25:03 2021 <span class="title">from</span> 10.225.99.49</span></span><br><span class="line"><span class="function"><span class="title">Linux</span> <span class="title">YoungDebian</span> 4.19.0-13-<span class="title">amd64</span> #1 <span class="title">SMP</span> <span class="title">Debian</span> 4.19.160-2 (2020-11-28) <span class="title">x86_64</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">programs</span> <span class="title">included</span> <span class="title">with</span> <span class="title">the</span> <span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">system</span> <span class="title">are</span> <span class="title">free</span> <span class="title">software</span>;</span></span><br><span class="line"><span class="function"><span class="title">the</span> <span class="title">exact</span> <span class="title">distribution</span> <span class="title">terms</span> <span class="title">for</span> <span class="title">each</span> <span class="title">program</span> <span class="title">are</span> <span class="title">described</span> <span class="title">in</span> <span class="title">the</span></span></span><br><span class="line"><span class="function"><span class="title">individual</span> <span class="title">files</span> <span class="title">in</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">doc</span>/*/<span class="title">copyright</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">comes</span> <span class="title">with</span> <span class="title">ABSOLUTELY</span> <span class="title">NO</span> <span class="title">WARRANTY</span>, <span class="title">to</span> <span class="title">the</span> <span class="title">extent</span></span></span><br><span class="line"><span class="function"><span class="title">permitted</span> <span class="title">by</span> <span class="title">applicable</span> <span class="title">law</span>.</span></span><br><span class="line"><span class="function"><span class="title">Last</span> <span class="title">login</span>: <span class="title">Wed</span> <span class="title">Feb</span>  3 14:25:03 2021 <span class="title">from</span> 10.225.99.49</span></span><br><span class="line"><span class="function"><span class="title">aozy</span>@<span class="title">YoungDebian</span>:~$ <span class="title">exit</span></span></span><br><span class="line"><span class="function"><span class="title">logout</span></span></span><br><span class="line"><span class="function"><span class="title">Connection</span> <span class="title">to</span> 10.225.99.76 <span class="title">closed</span>.</span></span><br></pre></td></tr></table></figure>
<h2
id="将服務listen在netns內以ssh為例">将服務listen在Netns內（以ssh為例）</h2>
<p>首先拓撲如下：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/ZSZYoung/Images-Host@main/blog/images/20210224180608.png" /></p>
<p>將到host22023port的封包轉到netns網卡的22port：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/<span class="comment"># iptables -t nat -A PREROUTING -p tcp -d 10.225.99.76 --dport 22023 -j DNAT --to 10.0.0.2:22</span></span><br></pre></td></tr></table></figure>
<p>關閉host端的ssh服務並開啟netns端的ssh服務:
<strong>因為systemctl管理的systemd是一個daemon進程，所以沒有對netns整合，不可以直接用systemctl在netns中開啓，需如下直接開啓sshd:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@YoungDebian:/<span class="comment"># systemctl stop sshd</span></span><br><span class="line">root@YoungDebian:~<span class="comment"># ip netns exec net1 /usr/sbin/sshd -o PidFile=/run/sshd-net1.pid</span></span><br><span class="line">root@YoungDebian:~<span class="comment"># ip netns exec net1 netstat -anp | grep &quot;sshd&quot;</span></span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      3555/sshd           </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      3555/sshd        </span><br></pre></td></tr></table></figure>
<p><strong>注意:</strong> 假如報錯Missing privilege separation
directory: /run/sshd 則在/run下mkdir sshd即可。</p>
<p>驗證連接： <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\24743&gt;<span class="title">ssh</span> -<span class="title">p</span> 22023 <span class="title">aozy</span>@10.225.194.210</span></span><br><span class="line"><span class="function"><span class="title">aozy</span>@10.225.194.210&#x27;<span class="title">s</span> <span class="title">password</span>:</span></span><br><span class="line"><span class="function"><span class="title">Linux</span> <span class="title">YoungDebian</span> 4.19.0-13-<span class="title">amd64</span> #1 <span class="title">SMP</span> <span class="title">Debian</span> 4.19.160-2 (2020-11-28) <span class="title">x86_64</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">programs</span> <span class="title">included</span> <span class="title">with</span> <span class="title">the</span> <span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">system</span> <span class="title">are</span> <span class="title">free</span> <span class="title">software</span>;</span></span><br><span class="line"><span class="function"><span class="title">the</span> <span class="title">exact</span> <span class="title">distribution</span> <span class="title">terms</span> <span class="title">for</span> <span class="title">each</span> <span class="title">program</span> <span class="title">are</span> <span class="title">described</span> <span class="title">in</span> <span class="title">the</span></span></span><br><span class="line"><span class="function"><span class="title">individual</span> <span class="title">files</span> <span class="title">in</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">doc</span>/*/<span class="title">copyright</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">comes</span> <span class="title">with</span> <span class="title">ABSOLUTELY</span> <span class="title">NO</span> <span class="title">WARRANTY</span>, <span class="title">to</span> <span class="title">the</span> <span class="title">extent</span></span></span><br><span class="line"><span class="function"><span class="title">permitted</span> <span class="title">by</span> <span class="title">applicable</span> <span class="title">law</span>.</span></span><br><span class="line"><span class="function"><span class="title">Last</span> <span class="title">login</span>: <span class="title">Wed</span> <span class="title">Feb</span> 24 17:44:25 2021 <span class="title">from</span> 10.225.152.51</span></span><br><span class="line"><span class="function"><span class="title">Linux</span> <span class="title">YoungDebian</span> 4.19.0-13-<span class="title">amd64</span> #1 <span class="title">SMP</span> <span class="title">Debian</span> 4.19.160-2 (2020-11-28) <span class="title">x86_64</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">programs</span> <span class="title">included</span> <span class="title">with</span> <span class="title">the</span> <span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">system</span> <span class="title">are</span> <span class="title">free</span> <span class="title">software</span>;</span></span><br><span class="line"><span class="function"><span class="title">the</span> <span class="title">exact</span> <span class="title">distribution</span> <span class="title">terms</span> <span class="title">for</span> <span class="title">each</span> <span class="title">program</span> <span class="title">are</span> <span class="title">described</span> <span class="title">in</span> <span class="title">the</span></span></span><br><span class="line"><span class="function"><span class="title">individual</span> <span class="title">files</span> <span class="title">in</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">doc</span>/*/<span class="title">copyright</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Debian</span> <span class="title">GNU</span>/<span class="title">Linux</span> <span class="title">comes</span> <span class="title">with</span> <span class="title">ABSOLUTELY</span> <span class="title">NO</span> <span class="title">WARRANTY</span>, <span class="title">to</span> <span class="title">the</span> <span class="title">extent</span></span></span><br><span class="line"><span class="function"><span class="title">permitted</span> <span class="title">by</span> <span class="title">applicable</span> <span class="title">law</span>.</span></span><br><span class="line"><span class="function"><span class="title">Last</span> <span class="title">login</span>: <span class="title">Wed</span> <span class="title">Feb</span> 24 17:44:25 2021 <span class="title">from</span> 10.225.152.51</span></span><br><span class="line"><span class="function"><span class="title">aozy</span>@<span class="title">YoungDebian</span>:~$</span></span><br></pre></td></tr></table></figure></p>
<h2 id="後記">後記</h2>
<ul>
<li><p>為主機配置防火墻時，可以先將所有連線擋下，具體用到一些服務時再用特定規則打開一些連線。</p></li>
<li><p>NAT與NAPT(PAT)之間關係：NAPT是NAT的一種實現方式，實現了多Private
IP共享同一Public
IP。NAPT是NAT最多用的實現方式，所以常常也直接稱為NAT。</p>
<p>NAT changes the IP address in the header of an IP packet as it
traverses a routing device and allows a different set of IP addresses to
be used for traffic within a local network than that defined for
external traffic. NAPT is a special type of NAT in which multiple
private IP addresses are mapped to a single IP address or to a small
group of public IP addresses. Therefore, NAPT involves multiple
translation of IP addresses. NAPT is the most used NAT. Therefore, most
of the time, NAPT is called NAT.</p></li>
</ul>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2021-02-02</span><i class="fa fa-tag"></i><a class="tag" href="/tags/iptables/" title="iptables">iptables </a><a class="tag" href="/tags/NAT/" title="NAT">NAT </a><a class="tag" href="/tags/Linux-Firewall/" title="Linux Firewall">Linux Firewall </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://r0y.tech/2021/02/02/Linux之iptables防火墻應用/,Roy's Blog,Linux下iptables防火墻與NAT應用,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/02/06/Linux-Debian10-%E4%B8%8BSNMP%E9%85%8D%E7%BD%AE/" title="Linux(Debian10)下SNMP配置">Prev</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2021/01/30/Linux%E7%B6%B2%E7%B5%A1%E8%99%9B%E6%93%AC%E5%8C%96Netns%E4%B9%8B%E5%9F%BA%E6%9C%AC%E6%8B%93%E6%92%B2%E5%AF%A6%E8%B8%90/" title="Linux網絡虛擬化Netns之基本拓撲實踐">Next</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@latest/dist/Valine.min.js"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:true || false, 
  verify:false|| false, 
  app_id:'LP5EBVNHfkmn17seVBnFrDIB-gzGzoHsz',
  app_key:'I1QAQGHsA6reNM2I3lwh3P8t',
  lang:'en',
  placeholder:'May the force be with you.',
  path: window.location.pathname,
  serverURLs: '',
  visitor:true,
  recordIP:true,
  avatar:'mp'
})</script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script></body></html>